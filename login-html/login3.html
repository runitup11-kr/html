<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>회원가입</title>
  </head>
  <body>
    <form method="POST" action="/signup">
      <fieldset>
        <legend>회원가입</legend>

        <ul>
          <li>
            <label for="email">이메일</label>
            <input
              type="email"
              id="email"
              required
              placeholder="이메일을 입력하세요."
            />
          </li>
        </ul>

        <ul>
          <li>
            <label for="password">비밀번호</label>
            <input
              type="password"
              id="password"
              required
              placeholder="비밀번호를 입력하세요"
            />
          </li>
        </ul>

        <ul>
          <li>
            <label for="tel">전화번호</label>
            <input
              type="tel"
              id="tel"
              required
              pattern="[0-9]+"
              placeholder="전화번호를 입력하세요."
            />
            <button type="button" onclick="addVerifyInput('인증번호 받기')">
              인증번호 받기
            </button>
          </li>
          <!-- 인증번호 입력칸이 추가될 자리 -->
          <div id="verify-container"></div>
        </ul>
        <ul>
          <li>
            <label for="date">생년월일</label>
            <input
              type="date"
              id="date"
              required
              min="1900-01-01"
              max="2025-09-23"
              placeholder="예:2000-01-01"
            />
          </li>
        </ul>
        <input type="submit" value="가입하기" />
      </fieldset>
    </form>

    <script>
      function addVerifyInput() {
        const telInput = document.getElementById("tel");
        const container = document.getElementById("verify-container");

        if (!telInput.value.trim()) {
          alert("전화번호를 입력하세요!");
          telInput.focus(); //커서 자동으로 이동
          return;
        }

        // 이미 입력칸이 있으면 또 추가하지 않음
        if (document.getElementById("verify-code")) {
          return;
        }

        // 새로운 input 요소 만들기
        const newInput = document.createElement("input");
        newInput.type = "text";
        newInput.id = "verify-code";
        newInput.placeholder = "인증번호를 입력하세요.";
        newInput.required = true;

        container.appendChild(newInput);
      }
    </script>
  </body>
</html>
